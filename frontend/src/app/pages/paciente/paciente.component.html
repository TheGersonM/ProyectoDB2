<div class="content-header">
    <div class="container">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1 class="m-0">Pacientes</h1>
        </div>
      </div>
    </div>
  </div>
  
  <div class="content">
    <div class="container">
      <div class="card">
        <div class="card-header">
          
          <div class="demo-button-container">
            <button mat-raised-button (click)="agregarFila()" class="demo-button">
              Agregar Paciente
            </button>
            <button
                mat-raised-button
                *ngIf="hasEditablePacientes()"
                (click)="eliminarPaciente()"
                class="demo-button">
              Eliminar Paciente
            </button>
            <!--
            <button
                mat-raised-button
                [disabled]="!hasEditableMedicos()"
                (click)="guardarCambios()"
                class="demo-button"
                style="float: right;">
              Guardar cambios
            </button>
          -->
            
          </div>
          
          <table mat-table [dataSource]="pacientes" class="mat-elevation-z8">
            <!-- Columna Nombre -->
            <ng-container matColumnDef="Nombre">
              <th mat-header-cell *matHeaderCellDef> Nombre </th>
              <td mat-cell *matCellDef="let element">
                <div *ngIf="!element.isEditing; else editNombre">
                  {{ element.Nombre }}
                </div>
                <ng-template #editNombre>
                  <input matInput [(ngModel)]="element.Nombre" placeholder="Nombre" />
                </ng-template>
              </td>
            </ng-container>
  
            <ng-container matColumnDef="Apellidos">
              <th mat-header-cell *matHeaderCellDef> Apellidos </th>
              <td mat-cell *matCellDef="let element">
                <div *ngIf="!element.isEditing; else editApellidos">
                  {{ element.Apellidos }}
                </div>
                <ng-template #editApellidos>
                  <input matInput [(ngModel)]="element.Apellidos" placeholder="Apellidos" />
                </ng-template>
              </td>
            </ng-container>
            <ng-container matColumnDef="Direccion">
              <th mat-header-cell *matHeaderCellDef> Direccion </th>
              <td mat-cell *matCellDef="let element">
                <div *ngIf="!element.isEditing; else editDireccion">
                  {{ element.Direccion }}
                </div>
                <ng-template #editDireccion>
                  <input matInput [(ngModel)]="element.Direccion" placeholder="Direccion" />
                </ng-template>
              </td>
            </ng-container>
            <ng-container matColumnDef="Telefono">
              <th mat-header-cell *matHeaderCellDef> Telefono </th>
              <td mat-cell *matCellDef="let element">
                <div *ngIf="!element.isEditing; else editTelefono">
                  {{ element.Telefono }}
                </div>
                <ng-template #editTelefono>
                  <input matInput [(ngModel)]="element.Telefono" placeholder="Telefono" />
                </ng-template>
              </td>
            </ng-container>
            
            <ng-container matColumnDef="FechaNacimiento">
                <th mat-header-cell *matHeaderCellDef> Fecha Nacimiento </th>
                <td mat-cell *matCellDef="let element">
                  <div *ngIf="!element.isEditing; else editFechaNacimiento">
                    {{ element.FechaNacimiento | date: 'yyyy-MM-dd' }}
                  </div>
                  <ng-template #editFechaNacimiento>
                    <input 
                      type="date" 
                      [(ngModel)]="element.FechaNacimiento" 
                      class="simple-datepicker"
                    />
                  </ng-template>
                </td>
              </ng-container>
              
                           
            
              <ng-container matColumnDef="SeguroMedico">
                <th mat-header-cell *matHeaderCellDef> SeguroMedico </th>
                <td mat-cell *matCellDef="let element">
                  <div *ngIf="!element.isEditing; else editSeguroMedico">
                    {{ element.SeguroMedico }}
                  </div>
                  <ng-template #editSeguroMedico>
                    <input matInput [(ngModel)]="element.SeguroMedico" placeholder="SeguroMedico" />
                  </ng-template>
                </td>
              </ng-container>
                
            <ng-container matColumnDef="Acciones">
              <th mat-header-cell *matHeaderCellDef> Acciones </th>
              <td mat-cell *matCellDef="let element">
                <button mat-button (click)="toggleEdit(element)">Editar</button>
                <button mat-button *ngIf="element.isEditing" (click)="saveRow(element)">Guardar</button>
                <button mat-button *ngIf="element.isEditing" (click)="cancelarEdicion(element)">Cancelar</button>
              </td>
            </ng-container>
  
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>
        </div>
      </div>
    </div>
  </div>
  